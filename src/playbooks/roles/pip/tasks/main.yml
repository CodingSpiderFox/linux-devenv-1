---

- name: create temporary working directory
  tempfile:
    state: directory
  register: tmpdir

- name: download get-pip.py
  get_url:
    url: https://bootstrap.pypa.io/get-pip.py
    dest: "{{ tmpdir.path }}/get-pip.py"

- name: execute get-pip.py
  become: yes
  args:
    chdir: "{{ tmpdir.path }}"
  command: "python {{ tmpdir.path }}/get-pip.py"

- name: remove temporary working directory
  file:
    path: "{{ tmpdir.path }}"
    state: absent
